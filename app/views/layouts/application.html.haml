/
  Whatever your mind can conceive and can believe, it can achieve. ~Napoleon Hill

  Whatever we think about and thank about we bring about. ~John Demartini

  Whether you think you can or canâ€™t either way you are right. ~Henry Ford

!!! 5
%html(lang="en")
  %head
    %meta(charset="utf-8")
    %meta(http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1")
    %meta(property="fb:app_id" content="414718878625776")
    -# %meta(name="viewport" content="width=device-width, initial-scale=1.0")
    %title= title
    %meta(name="description" content="#{meta_desc}")
    = content_for :head
    = csrf_meta_tags
    / Le HTML5 shim, for IE6-8 support of HTML elements
    /[if lt IE 9]
      = javascript_include_tag "//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js"
    = stylesheet_link_tag "application", :media => "all"
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
    <link href="#{ asset_path 'favicon.ico' }" rel="shortcut icon" type="image/vnd.microsoft.icon">
    - unless current_user and current_user.is? :admin
      = render partial: 'shared/analytics', locals: { tracker: 'UA-11926897-15', domain: 'hackster.io' }
    -# = render 'shared/mixpanel'
    = javascript_include_tag "application"

  %body
    #wrapper
      - unless params[:blank_frame]
        - if show_hello_world?
          #hello-world.fade-in
            .container
              %button.close.btn-close{ data: { close: '#hello-world' } } &times;
              = SLOGAN
              Wanna join the movement?
              = link_to 'Create your own profile.', new_user_registration_path, onclick: "_gaq.push(['_trackEvent', 'Hello world bar', 'Sign up', '#{request.path}']);"
        -# elsif show_profile_needs_care?
          - if params[:controller] == 'users' and params[:action] == 'show'
            #hello-world.fade-in
              .container
                Yo! Looks like your profile needs a little love.
                %strong Look out for clues on this page as to what can be improved.
                = link_to "Don't remind me.", '/notifications?notif=1311complete_profile&close=%23hello-world', data: { remote: true }, method: :delete, class: 'btn-close-notif btn-close-notif-last'
                = link_to "Got it.", '#', data: { close: '#hello-world' }, class: 'btn-close btn-close-notif'
          - else
            #hello-world.fade-in
              .container
                Yo! Looks like your profile needs a little love.
                = link_to 'Give it love.', user_path(current_user)
                = link_to "Don't remind me.", '/notifications?notif=1311complete_profile&close=%23hello-world', data: { remote: true }, method: :delete, class: 'btn-close-notif btn-close-notif-last'
                = link_to "Got it.", '#', data: { close: '#hello-world' }, class: 'btn-close btn-close-notif'

        .navbar.navbar-default.navbar-static-top
          .container{ style: 'position:relative;' }
            .row
              .col-xs-12
                .navbar-header
                  %button.navbar-toggle(data-target=".navbar-collapse" data-toggle="collapse")
                    %span.fa.fa-bar
                    %span.fa.fa-bar
                    %span.fa.fa-bar
                  = link_to image_tag('hackster_logo_20.png'), root_path, class: 'navbar-brand navbar-btn'

                .collapse.navbar-collapse
                  .col-xs-4.navbar-left= render 'shared/search_form'
                  %ul.nav.navbar-nav
                    %li.dropdown
                      -# = link_to 'Explore', projects_path
                      %a.dropdown-toggle{"data-toggle" => "dropdown", href: '#'}
                        Explore
                        %span.caret{ style: 'border-bottom-color: #000;border-top-color: #000;' }
                      %ul#topnav.dropdown-menu
                        %li
                          .row
                            .col-xs-12.text-center= link_to 'Browse all projects', projects_path(ref: 'topnav'), class: 'btn btn-block btn-primary'
                            -# .col-xs-4{ style: 'border-right: 1px solid #ddd'}
                              %ul.nav.nav-pills.nav-stacked
                                %li
                                  %h4 Categories
                                %li= link_to 'Drones', '/tags/drone'
                                %li= link_to 'Home automation', '/tags/home+automation'
                                %li= link_to 'Outdoor', '/tags/outdoor'
                                %li= link_to 'Wearables', '/tags/wearable'
                                %li= link_to '', '/tags/'
                                %li= link_to '', '/tags/'
                            .col-xs-6{ style: 'border-right: 1px solid #ddd'}
                              %ul.nav.nav-pills.nav-stacked
                                %li
                                  %h4 Tools
                                = render partial: 'shared/tools_list', locals: { ref: 'topnav' }
                            .col-xs-6
                              %ul.nav.nav-pills.nav-stacked
                                %li
                                  %h4 Components
                                = render partial: 'shared/components_list', locals: { ref: 'topnav' }

                    %li.with-button
                      %span= link_to "#{content_tag(:i, '', class: 'fa fa-plus')} Add project".html_safe, new_project_path, class: 'btn btn-sm btn-warning navbar-btn'
                    %li= link_to 'Hackers', hackers_path
                  - if user_signed_in?
                    %ul.nav.navbar-nav.navbar-right
                      - if current_user.has_notifications?
                        %li#notifications
                          %a.dropdown-toggle{"data-toggle" => "dropdown", href: '#'}
                            - if current_user.has_notifications?
                              %span.istooltip{ title: 'You have new notifications', data: { placement: 'bottom', container: 'body' } }
                                %i.fa.fa-envelope
                                %i.fa.fa-exclamation.light-blue
                            - else
                              %i.fa.fa-envelope.istooltip{ title: 'No new notifications', data: { placement: 'bottom', container: 'body' } }
                          %ul.dropdown-menu
                            - if current_user.has_notifications?
                              - current_user.notifications.each do |notification|
                                %li= link_to notification[:message], notification[:link]
                            - else
                              %li
                                %a No notifications.

                      %li.btn-group.navbar-btn
                        = link_to image_tag(current_user.decorate.avatar(:mini), style: 'width:32px;'), current_user, class: 'btn', style: 'padding:0;'
                        %button.btn.btn-default.dropdown-toggle{"data-toggle" => "dropdown"}
                          %span.caret{ style: 'border-bottom-color: #000;border-top-color: #000;' }
                        %ul.dropdown-menu
                          %li= link_to current_user.name, current_user
                          - if current_user.communities.any?
                            %li.divider
                            - current_user.community_group_ties.each do |group_tie|
                              - community = group_tie.group
                              - name = community.name
                              - name += ' (invite pending)' if group_tie.invitation_pending?
                              %li= link_to name, community
                            - if current_user.projects.where.not(collection_id: nil).any?
                              %li= link_to 'My grades', grades_path
                          %li.divider
                          %li= link_to 'Account settings', edit_user_registration_path
                          %li= link_to 'Invite friends', new_user_invitation_path
                          %li.divider
                          %li= link_to 'Log out', destroy_user_session_path, method: :delete
                    - if current_user.is? :admin
                      %ul.nav.navbar-nav.navbar-right
                        %li= link_to 'Admin', admin_analytics_path
                  - else
                    %ul.nav.navbar-nav.navbar-right
                      - unless request.path == root_path
                        %li.with-button
                          %span= link_to 'Sign up', new_user_registration_path, class: 'btn btn-sm btn-info navbar-btn', onclick: "_gaq.push(['_trackEvent', 'Header bar', 'Sign up', '#{request.path}']);" #new_user_registration_path
                      %li.dropdown
                        %a#login.dropdown-toggle{"data-toggle" => "dropdown", href: '#' }
                          Log in
                          %strong.caret
                        .dropdown-menu{:style => "padding: 15px; width: 250px;"}
                          = render 'devise/sessions/form'
                          %hr
                          = link_to 'Connect with your social account', new_user_session_path(a: 'connect')

      #main
        = bootstrap_flash
        - if content_for?(:no_container)
          = yield(:no_container)
        - else
          .container
            #content
              = yield

      #push

    - unless params[:blank_frame]
      %footer
        .container
          %ul.list-unstyled.list-inline.pull-left
            %li= link_to 'About', about_path
            %li= link_to 'Help', 'mailto:team@hackster.io?subject=Help!'
            %li= link_to 'Feedback', 'mailto:team@hackster.io?subject=What%20I%20think%20about%20Hackster.io'
            %li= link_to 'Resources', resources_path
            %li= link_to 'Jobs', 'mailto:jobs@hackster.io?subject=I want to work with you guys!'
            %li= link_to 'Terms', '/terms'
            %li= link_to 'Privacy', '/privacy'
            %li= link_to 'Newsletter archive', 'http://us7.campaign-archive2.com/home/?u=3fd72855783c7f1a97812d84e&id=6ff81e3e5b', target: '_blank'
            %li
          %ul.list-unstyled.list-inline.pull-right
            %li= link_to content_tag(:i, '', class: 'fa fa-twitter fa-lg').html_safe, 'http://twitter.com/hacksterio', alt: 'Hackster.io on Twitter', class: 'link-icon'
            %li= link_to content_tag(:i, '', class: 'fa fa-facebook fa-lg').html_safe, 'http://www.facebook.com/hacksterio', alt: 'Hackster.io on Facebook', class: 'link-icon'
            %li Hackster.io 2014
          = link_to image_tag('//cdn.mxpnl.com/site_media/images/partner/badge_light.png', alt: 'Mobile Analytics'), 'https://mixpanel.com/f/partner', class: 'pull-right', style: 'margin-top:-10px;margin-right:15px;', target: '_blank'

    = content_for :js
    - unless is_mobile? or params[:blank_frame]
      = render 'shared/feedback'
      -# if user_signed_in? and current_user.live_projects_count > 0
        = render 'shared/surveyio'