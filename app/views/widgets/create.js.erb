$('#showcase #widget-new').html('');
$('#showcase #widget-new').before('<%= escape_javascript render(partial: "widget", locals: { widget: @widget }) %>');
$('#widget-<%= @widget.id %> .edit').show();
$('#widget-<%= @widget.id %> .content').hide();
$('#widget-<%= @widget.id %> .edit').html("<%= escape_javascript render(partial: 'form') %>");
$("<%= escape_javascript content_for(:js) %>").appendTo($('#widget-<%= @widget.id %> .edit'));
$('#widget-<%= @widget.id %>').addClass("edit-mode");